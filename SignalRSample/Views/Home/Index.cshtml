<div class="container">
    <div class="row border p-1 mt-3">
        <h3>Subscribed List: </h3>
        <hr />
        <div class="row p-2">
            <div class="col-3">
                <label style="color:#B52033" id="lbl_houseJoined">Subscribed House Names</label>
            </div>
        </div>
    </div>
    <div class="row border p-1 mt-3">
        <h3>Subscribe: </h3>
        <hr />
        <div class="row p-2">
            <div class="col-3">
                <button class="btn" style="background-color:#B52033;color:#fff" id="btn_gryffindor">Gryffindor</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#236E50;color:#fff" id="btn_slytherin">Slytherin</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#EDB526;color:#fff" id="btn_hufflepuff">Hufflepuff</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#10749F;color:#fff" id="btn_ravenclaw">Ravenclaw</button>
            </div>
        </div>
    </div>
    <div class="row border p-1 mt-3">
        <h3>Unsubscribe: </h3>
        <hr />
        <div class="row p-2">
            <div class="col-3">
                <button class="btn" style="background-color:#B52033;color:#fff;display:none" id="btn_un_gryffindor">Gryffindor</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#236E50;color:#fff;display:none" id="btn_un_slytherin">Slytherin</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#EDB526;color:#fff;display:none" id="btn_un_hufflepuff">Hufflepuff</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#10749F;color:#fff;display:none" id="btn_un_ravenclaw">Ravenclaw</button>
            </div>
        </div>
    </div>
    <div class="row border p-1 mt-3">
        <h3>Trigger Notification: </h3>
        <hr />
        <div class="row p-2">
            <div class="col-3">
                <button class="btn" style="background-color:#B52033;color:#fff" id="trigger_gryffindor">Gryffindor</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#236E50;color:#fff" id="trigger_slytherin">Slytherin</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#EDB526;color:#fff" id="trigger_hufflepuff">Hufflepuff</button>
            </div>
            <div class="col-3">
                <button class="btn" style="background-color:#10749F;color:#fff" id="trigger_ravenclaw">Ravenclaw</button>
            </div>
        </div>
    </div>
    <div class="row border p-1 mt-3">
        <h3 class="mb-2">Deathly Hallow Race</h3>
        <div class="col-4 mb-1">
            <div>Invisibility Cloak - <span id="cloakCounter"></span></div>

        </div>
        <div class="col-4 mb-1">
            <div>Resurrection Stone - <span id="stoneCounter"></span></div>

        </div>
        <div class="col-4 mb-1">
            <div>Elder Wand - <span id="wandCounter"></span></div>
        </div>
        <hr />
        <p>Url to Vote:</p>
        @* <div>1. Invisibility Cloak - @Html.ActionLink("Cloak", "DeathlyHallows", new {Type="cloak"}) </div> 
        <div>2. Resurrection Stone - https://localhost:7001/Home/DeathlyHallows?type=stone </div>*@
        <div class="row my-1">
            <div class="col-2">1. Invisibility Cloak</div>
            <div class="col-2"><button class="btn btn-outline-primary ms-1" onclick="hallowTypeClicked('cloak')">Cloak</button></div>
        </div>
        <div class="row my-1">
            <div class="col-2">2. Resurrection Stone</div>
            <div class="col-2"><button class="btn btn-outline-primary ms-1" onclick="hallowTypeClicked('stone')">Stone</button></div>
        </div>
        <div class="row my-1">
            <div class="col-2">3. Elder Wand</div>
            <div class="col-2"><button class="btn btn-outline-primary ms-1" onclick="hallowTypeClicked('wand')">Wand</button></div>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-3">Total Views: </div>
        <div class="col-4">
            <span id="totalViewsCounter"></span>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-3">Total Connection/Users: </div>
        <div class="col-4">
            <span id="totalUsersCounter"></span>
        </div>
    </div>
    <hr/>
</div>

<script src="~/js/signalr.js"></script>
<script src="~/js/usersCount.js"></script>
<script src="~/js/deathlyHallows.js"></script>

<script type="text/javascript">
    var hallowTypeClicked = function (type) {
        fetch(`/Home/DeathlyHallows?type=${type}`)
            .then(response => response.text())
            .then(data => {
                console.log(`Vote for Invisibility ${type} has been recorded!`, data);
            })
            .catch(error => console.error('Error:', error));
    };
</script>